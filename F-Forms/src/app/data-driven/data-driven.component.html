<h1>Data Driven</h1>

<form [formGroup]="myForm" (ngSubmit)="onSubmit()">
  <div formGroupName="userData">
    <div class="form-group">
      <label for="data-username">Username</label>
      <input type="text" class="form-control"
             id="data-username"
             formControlName="name">

      <div *ngIf="!myForm.get('userData.name').valid" class="help-block">
        <span *ngIf="myForm.get('userData.name').errors['required']">This field is required</span>
      </div>

      <button class="btn btn-default"
              style="margin-top: 5px;"
              type="button" (click)="onSuggest()">
        Suggest
      </button>
    </div>

    <div class="form-group">
      <label for="data-email">E-Mail</label>
      <input type="text" class="form-control"
             id="data-email"
             formControlName="email">

      <div *ngIf="!myForm.get('userData.email').valid" class="help-block">
        Please provide a valid email.
      </div>
    </div>
  </div>

  <div class="form-group">
    <label for="data-password">Password</label>
    <input type="password" class="form-control"
           id="data-password"
           formControlName="password">
  </div>

  <div class="radio" *ngFor="let g of gender">
    <label>
      <input type="radio" name="gender"
             formControlName="gender"
             [value]="g">{{g}}
    </label>
  </div>

  <div formArrayName="hobbies">
    <h3>Hobbies</h3>
    <div class="form-group" *ngFor="let hobby of myForm.controls.hobbies.controls; let i = index">
      <input type="text"
             class="form-control"
             formControlName="{{i}}">
    </div>
  </div>

  <button type="button" class="btn btn-default"
          (click)="addHobby()">Add Hobby
  </button>

  <button type="button" class="btn btn-default"
          (click)="onReset()">Reset
  </button>

  <button type="submit" class="btn btn-primary"
          [disabled]="!myForm.valid">Submit
  </button>
</form>
